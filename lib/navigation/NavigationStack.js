var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=RNApp;var _nativeStack=require("@react-navigation/native-stack");var _reactNative=require("react-native");var _react=_interopRequireWildcard(require("react"));var _Login=_interopRequireDefault(require("app/screens/Login"));var _Home=_interopRequireDefault(require("app/screens/Home"));var loginActions=_interopRequireWildcard(require("app/actions/loginActions"));var _Splash=_interopRequireDefault(require("app/screens/Splash"));var _reactRedux=require("react-redux");var _reactNativeIgnoreWarnings=_interopRequireDefault(require("react-native-ignore-warnings"));var _jsxFileName="/home/stevehitchens/projects/wherevr-mydev/majengo/app/navigation/NavigationStack.js";(0,_reactNativeIgnoreWarnings.default)('Setting a timer');function AuthIsLoaded(_ref){var children=_ref.children;var dispatch=(0,_reactRedux.useDispatch)();var isLoading=(0,_reactRedux.useSelector)(function(state){return state.loadingReducer.isLoginLoading;});(0,_react.useEffect)(function(){dispatch(loginActions.enableLoader());var bootstrapAsync=function bootstrapAsync(){var userToken;try{userToken=_reactNative.AsyncStorage.getItem('userToken');}catch(e){console.log(e);setTimeout(function(){_reactNative.Alert.alert('BoilerPlate',e.toString());},5000);}setTimeout(function(){dispatch(loginActions.onLoginResponse(userToken));dispatch(loginActions.disableLoader());},2000);};bootstrapAsync();},[dispatch]);if(isLoading===true){return _react.default.createElement(_Splash.default,{__source:{fileName:_jsxFileName,lineNumber:45}});}return children;}var Stack=(0,_nativeStack.createNativeStackNavigator)();function RNApp(){var userToken=(0,_reactRedux.useSelector)(function(state){return state.loginReducer.id;});return _react.default.createElement(AuthIsLoaded,{__source:{fileName:_jsxFileName,lineNumber:57}},_react.default.createElement(Stack.Navigator,{__source:{fileName:_jsxFileName,lineNumber:58}},userToken!=null?_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(Stack.Screen,{name:"New Player",component:_Login.default,options:{headerShown:false},__source:{fileName:_jsxFileName,lineNumber:61}})):_react.default.createElement(Stack.Screen,{name:"Home",component:_Home.default,options:{headerShown:false},__source:{fileName:_jsxFileName,lineNumber:73}})));}