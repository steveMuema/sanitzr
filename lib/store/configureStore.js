var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=exports.rrfProps=void 0;var _redux=require("redux");var _reduxPersist=require("redux-persist");var _reduxPersistFsStorage=_interopRequireDefault(require("redux-persist-fs-storage"));var _reduxLogger=require("redux-logger");var _reduxSaga=_interopRequireDefault(require("redux-saga"));var firebase=_interopRequireWildcard(require("firebase/app"));var _reduxFirestore=require("redux-firestore");require("firebase/auth");var _reducers=_interopRequireDefault(require("app/reducers"));var _sagas=_interopRequireDefault(require("app/sagas"));var _reduxThunk=_interopRequireDefault(require("redux-thunk"));var _reactReduxFirebase=require("react-redux-firebase");require("firebase/database");require("firebase/firestore");var config={key:'root',storage:(0,_reduxPersistFsStorage.default)(),blacklist:['loadingReducer'],debug:true};var firebaseConfig={apiKey:'AIzaSyB0xJRuVBIBYVoDq7UYfwATcRdJb2Us9aE',authDomain:'carbon-minutia-235708.firebaseapp.com',databaseURL:'https://carbon-minutia-235708.firebaseio.com',projectId:'carbon-minutia-235708',storageBucket:'carbon-minutia-235708.appspot.com',messagingSenderId:'11838430108',appId:'1:11838430108:android:66445e91e416a407190659'};var rrfConfig={userProfile:'users',enableLogging:true};var rfConfig={};if(!firebase.apps.length){firebase.initializeApp(firebaseConfig);firebase.firestore();}var middleware=[_reduxThunk.default.withExtraArgument(_reactReduxFirebase.getFirebase)];var sagaMiddleware=(0,_reduxSaga.default)();middleware.push(sagaMiddleware);if(__DEV__){middleware.push((0,_reduxLogger.createLogger)());}var reducers=(0,_reduxPersist.persistCombineReducers)(config,_reducers.default);var enhancers=[_redux.applyMiddleware.apply(void 0,middleware),(0,_reduxFirestore.reduxFirestore)(firebase,rfConfig)];var persistConfig={enhancers:enhancers};var store=(0,_redux.createStore)(reducers,undefined,_redux.compose.apply(void 0,enhancers));var persistor=(0,_reduxPersist.persistStore)(store,persistConfig,function(){});var configureStore=function configureStore(){return{persistor:persistor,store:store};};var rrfProps={firebase:firebase,config:rrfConfig,dispatch:store.dispatch};exports.rrfProps=rrfProps;sagaMiddleware.run(_sagas.default);var _default=configureStore;exports.default=_default;